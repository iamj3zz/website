{% comment %}
  Priority: page.metadata.* > include.*
  This allows metadata to be defined once in front matter and reused across modules
{% endcomment %}

{% assign release_date = page.metadata.release_date | default: include.release_date %}
{% assign release_date_link = page.metadata.release_date_link | default: include.release_date_link %}
{% assign date = page.metadata.date | default: include.date %}
{% assign date_link = page.metadata.date_link | default: include.date_link %}
{% assign isrc = page.metadata.isrc | default: include.isrc %}
{% assign isrc_link = page.metadata.isrc_link | default: include.isrc_link %}
{% assign upc = page.metadata.upc | default: include.upc %}
{% assign upc_link = page.metadata.upc_link | default: include.upc_link %}
{% assign iswc = page.metadata.iswc | default: include.iswc %}
{% assign iswc_link = page.metadata.iswc_link | default: include.iswc_link %}
{% assign location = page.metadata.location | default: include.location %}
{% assign location_link = page.metadata.location_link | default: include.location_link %}
{% assign performed_in = page.metadata.performed_in | default: include.performed_in %}
{% assign performed_in_link = page.metadata.performed_in_link | default: include.performed_in_link %}
{% assign places = page.metadata.places | default: include.places %}
{% assign places_link = page.metadata.places_link | default: include.places_link %}
{% assign produced_by = page.metadata.produced_by | default: include.produced_by %}
{% assign produced_by_link = page.metadata.produced_by_link | default: include.produced_by_link %}
{% assign client = page.metadata.client | default: include.client %}
{% assign client_link = page.metadata.client_link | default: include.client_link %}
{% assign commissioned_by = page.metadata.commissioned_by | default: include.commissioned_by %}
{% assign commissioned_by_link = page.metadata.commissioned_by_link | default: include.commissioned_by_link %}
{% assign curated_by = page.metadata.curated_by | default: include.curated_by %}
{% assign curated_by_link = page.metadata.curated_by_link | default: include.curated_by_link %}
{% assign role = page.metadata.role | default: include.role %}
{% assign role_link = page.metadata.role_link | default: include.role_link %}
{% assign technology = page.metadata.technology | default: include.technology %}
{% assign technology_link = page.metadata.technology_link | default: include.technology_link %}
{% assign collaborators = page.metadata.collaborators | default: include.collaborators %}
{% assign collaborators_link = page.metadata.collaborators_link | default: include.collaborators_link %}
{% assign credits = page.metadata.credits | default: include.credits %}
{% assign credits_link = page.metadata.credits_link | default: include.credits_link %}
{% assign partners = page.metadata.partners | default: include.partners %}
{% assign partners_link = page.metadata.partners_link | default: include.partners_link %}
{% assign supporters = page.metadata.supporters | default: include.supporters %}
{% assign supporters_link = page.metadata.supporters_link | default: include.supporters_link %}
{% assign composer_performer_producer = page.metadata.composer_performer_producer | default: include.composer_performer_producer %}
{% assign composer_performer_producer_link = page.metadata.composer_performer_producer_link | default: include.composer_performer_producer_link %}
{% assign mastering_by = page.metadata.mastering_by | default: include.mastering_by %}
{% assign mastering_by_link = page.metadata.mastering_by_link | default: include.mastering_by_link %}
{% assign artwork_by = page.metadata.artwork_by | default: include.artwork_by %}
{% assign artwork_by_link = page.metadata.artwork_by_link | default: include.artwork_by_link %}
{% assign interview = page.metadata.interview | default: include.interview %}
{% assign interview_link = page.metadata.interview_link | default: include.interview_link %}
{% assign press_kit = page.metadata.press_kit | default: include.press_kit %}
{% assign press_kit_link = page.metadata.press_kit_link | default: include.press_kit_link %}
{% assign socials = page.metadata.socials | default: include.socials %}
{% assign socials_link = page.metadata.socials_link | default: include.socials_link %}
{% assign special_thanks = page.metadata.special_thanks | default: include.special_thanks %}
{% assign special_thanks_link = page.metadata.special_thanks_link | default: include.special_thanks_link %}
{% assign custom = page.metadata.custom | default: include.custom %}

<div class="module module-metadata">
  <div class="metadata-grid">
    {% comment %} Temporal Information {% endcomment %}
    {% if release_date %}
      <div class="metadata-item">
        <span class="metadata-label">Released on</span>
        <span class="metadata-value">
          {% if release_date_link %}<a href="{{ release_date_link }}" target="_blank" rel="noopener noreferrer">{{ release_date | date: "%B %-d, %Y" }}</a>{% else %}{{ release_date | date: "%B %-d, %Y" }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if date %}
      <div class="metadata-item">
        <span class="metadata-label">Date</span>
        <span class="metadata-value">
          {% if date_link %}<a href="{{ date_link }}" target="_blank" rel="noopener noreferrer">{{ date }}</a>{% else %}{{ date }}{% endif %}
        </span>
      </div>
    {% endif %}

    {% comment %} Industry Identifiers {% endcomment %}
    {% if isrc %}
      <div class="metadata-item">
        <span class="metadata-label">ISRC</span>
        <span class="metadata-value">
          {% if isrc_link %}<a href="{{ isrc_link }}" target="_blank" rel="noopener noreferrer">{{ isrc }}</a>{% else %}{{ isrc }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if upc %}
      <div class="metadata-item">
        <span class="metadata-label">UPC</span>
        <span class="metadata-value">
          {% if upc_link %}<a href="{{ upc_link }}" target="_blank" rel="noopener noreferrer">{{ upc }}</a>{% else %}{{ upc }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if iswc %}
      <div class="metadata-item">
        <span class="metadata-label">ISWC</span>
        <span class="metadata-value">
          {% if iswc_link %}<a href="{{ iswc_link }}" target="_blank" rel="noopener noreferrer">{{ iswc }}</a>{% else %}{{ iswc }}{% endif %}
        </span>
      </div>
    {% endif %}

    {% comment %} Location Information {% endcomment %}
    {% if location %}
      <div class="metadata-item">
        <span class="metadata-label">Location</span>
        <span class="metadata-value">
          {% if location_link %}<a href="{{ location_link }}" target="_blank" rel="noopener noreferrer">{{ location }}</a>{% else %}{{ location }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if performed_in %}
      <div class="metadata-item">
        <span class="metadata-label">Performed in</span>
        <span class="metadata-value">
          {% if performed_in_link %}<a href="{{ performed_in_link }}" target="_blank" rel="noopener noreferrer">{{ performed_in }}</a>{% else %}{{ performed_in }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if places %}
      <div class="metadata-item">
        <span class="metadata-label">Places</span>
        <span class="metadata-value">
          {% if places_link %}<a href="{{ places_link }}" target="_blank" rel="noopener noreferrer">{{ places }}</a>{% else %}{{ places }}{% endif %}
        </span>
      </div>
    {% endif %}

    {% comment %} Production Information {% endcomment %}
    {% if produced_by %}
      <div class="metadata-item">
        <span class="metadata-label">Produced by</span>
        <span class="metadata-value">
          {% if produced_by_link %}<a href="{{ produced_by_link }}" target="_blank" rel="noopener noreferrer">{{ produced_by }}</a>{% else %}{{ produced_by }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if commissioned_by %}
      <div class="metadata-item">
        <span class="metadata-label">Commissioned by</span>
        <span class="metadata-value">
          {% if commissioned_by_link %}<a href="{{ commissioned_by_link }}" target="_blank" rel="noopener noreferrer">{{ commissioned_by }}</a>{% else %}{{ commissioned_by }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if curated_by %}
      <div class="metadata-item">
        <span class="metadata-label">Curated by</span>
        <span class="metadata-value">
          {% if curated_by_link %}<a href="{{ curated_by_link }}" target="_blank" rel="noopener noreferrer">{{ curated_by }}</a>{% else %}{{ curated_by }}{% endif %}
        </span>
      </div>
    {% endif %}

    {% comment %} Role and Technology {% endcomment %}
    {% if role %}
      <div class="metadata-item">
        <span class="metadata-label">Role</span>
        <span class="metadata-value">
          {% if role_link %}<a href="{{ role_link }}" target="_blank" rel="noopener noreferrer">{{ role }}</a>{% else %}{{ role }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if technology %}
      <div class="metadata-item">
        <span class="metadata-label">Technology</span>
        <span class="metadata-value">
          {% if technology_link %}<a href="{{ technology_link }}" target="_blank" rel="noopener noreferrer">{{ technology }}</a>{% else %}{{ technology }}{% endif %}
        </span>
      </div>
    {% endif %}

    {% comment %} Collaborators and Credits {% endcomment %}
    {% if collaborators %}
      <div class="metadata-item">
        <span class="metadata-label">Collaborators</span>
        <span class="metadata-value">
          {% if collaborators_link %}<a href="{{ collaborators_link }}" target="_blank" rel="noopener noreferrer">{{ collaborators }}</a>{% else %}{{ collaborators }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if credits %}
      <div class="metadata-item">
        <span class="metadata-label">Credits</span>
        <span class="metadata-value">
          {% if credits_link %}<a href="{{ credits_link }}" target="_blank" rel="noopener noreferrer">{{ credits }}</a>{% else %}{{ credits }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if partners %}
      <div class="metadata-item">
        <span class="metadata-label">Partners</span>
        <span class="metadata-value">
          {% if partners_link %}<a href="{{ partners_link }}" target="_blank" rel="noopener noreferrer">{{ partners }}</a>{% else %}{{ partners }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if supporters %}
      <div class="metadata-item">
        <span class="metadata-label">Supporters</span>
        <span class="metadata-value">
          {% if supporters_link %}<a href="{{ supporters_link }}" target="_blank" rel="noopener noreferrer">{{ supporters }}</a>{% else %}{{ supporters }}{% endif %}
        </span>
      </div>
    {% endif %}

    {% comment %} Specific Roles {% endcomment %}
    {% if composer_performer_producer %}
      <div class="metadata-item">
        <span class="metadata-label">Composer, performer, producer</span>
        <span class="metadata-value">
          {% if composer_performer_producer_link %}<a href="{{ composer_performer_producer_link }}" target="_blank" rel="noopener noreferrer">{{ composer_performer_producer }}</a>{% else %}{{ composer_performer_producer }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if mastering_by %}
      <div class="metadata-item">
        <span class="metadata-label">Mastering by</span>
        <span class="metadata-value">
          {% if mastering_by_link %}<a href="{{ mastering_by_link }}" target="_blank" rel="noopener noreferrer">{{ mastering_by }}</a>{% else %}{{ mastering_by }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if artwork_by %}
      <div class="metadata-item">
        <span class="metadata-label">Artwork by</span>
        <span class="metadata-value">
          {% if artwork_by_link %}<a href="{{ artwork_by_link }}" target="_blank" rel="noopener noreferrer">{{ artwork_by }}</a>{% else %}{{ artwork_by }}{% endif %}
        </span>
      </div>
    {% endif %}

    {% comment %} Additional Resources {% endcomment %}
    {% if interview %}
      <div class="metadata-item">
        <span class="metadata-label">Interview</span>
        <span class="metadata-value">
          {% if interview_link %}<a href="{{ interview_link }}" target="_blank" rel="noopener noreferrer">{{ interview }}</a>{% else %}{{ interview }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if press_kit %}
      <div class="metadata-item">
        <span class="metadata-label">Press kit</span>
        <span class="metadata-value">
          {% if press_kit_link %}<a href="{{ press_kit_link }}" target="_blank" rel="noopener noreferrer">{{ press_kit }}</a>{% else %}{{ press_kit }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if socials %}
      <div class="metadata-item">
        <span class="metadata-label">Socials</span>
        <span class="metadata-value">
          {% if socials_link %}<a href="{{ socials_link }}" target="_blank" rel="noopener noreferrer">{{ socials }}</a>{% else %}{{ socials }}{% endif %}
        </span>
      </div>
    {% endif %}

    {% comment %} Acknowledgements {% endcomment %}
    {% if special_thanks %}
      <div class="metadata-item">
        <span class="metadata-label">Special thanks</span>
        <span class="metadata-value">
          {% if special_thanks_link %}<a href="{{ special_thanks_link }}" target="_blank" rel="noopener noreferrer">{{ special_thanks }}</a>{% else %}{{ special_thanks }}{% endif %}
        </span>
      </div>
    {% endif %}
    {% if client %}
      <div class="metadata-item">
        <span class="metadata-label">Client</span>
        <span class="metadata-value">
          {% if client_link %}<a href="{{ client_link }}" target="_blank" rel="noopener noreferrer">{{ client }}</a>{% else %}{{ client }}{% endif %}
        </span>
      </div>
    {% endif %}

    {% comment %} Custom Fields (for any additional metadata) {% endcomment %}
    {% if custom %}
      {% for item in custom %}
        <div class="metadata-item">
          <span class="metadata-label">{{ item.label }}</span>
          <span class="metadata-value">
            {% if item.link %}<a href="{{ item.link }}" target="_blank" rel="noopener noreferrer">{{ item.value }}</a>{% else %}{{ item.value }}{% endif %}
          </span>
        </div>
      {% endfor %}
    {% endif %}
  </div>
</div>
